<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>PixelQuest — Favoris</title>
  <script src="https://cdn.tailwindcss.com"></script>

</head>
<body class=" text-white min-h-screen">

  <header class="bg-[rgb(181,62,217)] border-b border-white/5">
    <div class="max-w-7xl mx-auto flex items-center justify-between p-4">
      <div class="flex items-center gap-4">
        <img src="Untitled_design__2_-removebg-preview - Copy.png" alt="logo" class="w-12 h-12 object-contain"/>
        <h1 class="text-2xl font-extrabold">Gaming • Favoris</h1>
      </div>
      <a href="index.html" class="px-3 py-2 rounded-full hover:bg-white/5 transition text-blue-200">Retour au catalogue</a>
    </div>
  </header>

  <main class="max-w-7xl mx-auto p-6">
    <h2 class="text-xl text-blue-200/80 mb-4">Tes jeux favoris</h2>
    <div id="favorites-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"></div>

    <div id="no-favorites" class="text-center text-gray-400 mt-8 hidden">
      Tu n'as aucun favori pour le moment.<br>
      <a href="index.html" class="text-blue-300 hover:underline">Découvrir des jeux</a>
    </div>
  </main>

  <script>

    const container = document.getElementById('favorites-container');
    const noFav = document.getElementById('no-favorites');
    const favs = JSON.parse(localStorage.getItem('favorites')) || [];

    if (!favs.length) {
      noFav.classList.remove('hidden');
    } else {
      favs.forEach((g, idx) => {
        const card = document.createElement('div');
        card.className = 'bg-[#081527] rounded-lg p-4 shadow-lg border border-white/5 flex flex-col';
        card.innerHTML = `
          <img src="${g.background_image}" alt="${g.name}" class="w-full h-40 object-cover rounded mb-3">
          <h3 class="font-semibold mb-1">${g.name}</h3>
          <p class="text-sm text-gray-300 mb-3 line-clamp-3">${g.description ? g.description.slice(0,120) : 'Aucune description.'}</p>
          <div class="mt-auto flex items-center justify-between gap-2">
            <button class="remove-btn px-3 py-2 rounded bg-red-600 hover:bg-red-700">Supprimer</button>
            <a href="#" class="px-3 py-2 text-sm rounded bg-white/5">Détails</a>
          </div>
        `;
        card.querySelector('.remove-btn').addEventListener('click', () => {
          favs.splice(idx, 1);
          localStorage.setItem('favorites', JSON.stringify(favs));
          location.reload();
        });
        container.appendChild(card);
      });
    }
  </script>
</body>
</html>
